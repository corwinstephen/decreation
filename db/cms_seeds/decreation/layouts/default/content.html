[attributes]
label: default
app_layout: application

[content]
<div id='main'>
	<div class='mainlogo'>
		<a href='/'>
			{{ cms:file_link 10, as: image }}
		</a>
	</div>

	{{ cms:textarea content }}
</div>

[js]
$(document).on('turbolinks:load', function(){
	// Don't cache pages
	Turbolinks.clearCache();
	
	const ogImgSrc = $('.featuredimage-background img').attr('src');

	$('.projectlist-item').off();
	$('.projectlist-item').hover(function(e){
		let projectId = $(this).data('id');
		let imageUrl = _.findWhere(Decreation.projectImages, { id: projectId }).image_url;
		$('.featuredimage-background img').attr('src', imageUrl);
	}, function(){
		$('.featuredimage-background img').attr('src', ogImgSrc);
	});

	setTimeout(function(){
		$('.projectlist').slideDown();
	}, 100);
});

$(document).on('turbolinks:request-start', function(){
	$('.projectlist').slideUp(250);
});

$(document).on('turbolinks:load', function(){
	// Random color
	$('body').css('background-color', randomColor({luminosity: 'light'}));
	$('.projectlist a, .projectlist li').css('color', randomColor({luminosity: 'bright'}));

	$('.slick').slick({
	  focusOnSelect: true,
	  adaptiveHeight: true,
	  focusOnSelect: true,
	  nextArrow: "<div class='featuredimage-next'></div>",
	  prevArrow: "<div class='featuredimage-prev'></div>"
	});
});

[css]
